"use strict";(self.webpackChunkreactgram_tailwindcss=self.webpackChunkreactgram_tailwindcss||[]).push([[934],{3287:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(2791),u=t(9271),s=t(1523),a=t(2303),o=t(6307),c=t(8155),i=t(3543),l=t(6920),f=t(184);function d(){var e=(0,n.useContext)(o.Z).user,r=(0,l.Z)(null===e||void 0===e?void 0:e.uid).user,t=(0,n.useContext)(a.Z).firebase,d=(0,u.k6)();return(0,f.jsx)("header",{className:"h-16 bg-white border-b border-gray-primary mb-8",children:(0,f.jsx)("div",{className:"container mx-auto max-w-screen-lg h-full",children:(0,f.jsxs)("div",{className:"flex justify-between h-full",children:[(0,f.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items cursor-pointer",children:(0,f.jsx)("h1",{className:"flex justify-center w-full",children:(0,f.jsx)(s.rU,{to:c.h1,"aria-label":"Instagram logo",children:(0,f.jsx)("img",{src:"/images/logo.png",alt:"Instagram",className:"mt-2 w-6/12"})})})}),(0,f.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items",children:e?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.rU,{to:c.h1,"aria-label":"Dashboard",children:(0,f.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,f.jsx)("button",{type:"button",title:"Sign Out",onClick:function(){t.auth().signOut(),d.push(c.ym)},onKeyDown:function(e){"Enter"===e.key&&(t.auth().signOut(),d.push(c.ym))},children:(0,f.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),r&&(0,f.jsx)("div",{className:"flex items-center cursor-pointer",children:(0,f.jsx)(s.rU,{to:"/p/".concat(null===r||void 0===r?void 0:r.username),children:(0,f.jsx)("img",{className:"rounded-full h-8 w-8 flex",src:"/images/avatars/".concat(null===r||void 0===r?void 0:r.username,".jpg"),alt:"".concat(null===r||void 0===r?void 0:r.username," profile"),onError:function(e){e.target.src=i.h}})})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.rU,{to:c.ym,children:(0,f.jsx)("button",{type:"button",className:"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8",children:"Log In"})}),(0,f.jsx)(s.rU,{to:c._5,children:(0,f.jsx)("button",{type:"button",className:"font-bold text-sm rounded text-blue-medium w-20 h-8",children:"Sign Up"})})]})})]})})})}},3543:function(e,r,t){t.d(r,{h:function(){return n}});var n="/images/avatars/default.png"},6920:function(e,r,t){t.d(r,{Z:function(){return i}});var n=t(5861),u=t(885),s=t(7757),a=t.n(s),o=t(2791),c=t(7606);function i(e){var r=(0,o.useState)(),t=(0,u.Z)(r,2),s=t[0],i=t[1];return(0,o.useEffect)((function(){function r(){return r=(0,n.Z)(a().mark((function e(r){var t,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.xD)(r);case 2:t=e.sent,n=(0,u.Z)(t,1),s=n[0],i(s||{});case 6:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}e&&function(e){r.apply(this,arguments)}(e)}),[e]),{user:s,setActiveUser:i}}},2934:function(e,r,t){t.r(r),t.d(r,{default:function(){return a}});var n=t(2791),u=t(3287),s=t(184);function a(){return(0,n.useEffect)((function(){document.title="Not Found - Instagram"}),[]),(0,s.jsxs)("div",{className:"bg-gray-background",children:[(0,s.jsx)(u.Z,{}),(0,s.jsx)("div",{className:"mx-auto max-w-screen-lg",children:(0,s.jsx)("p",{className:"text-center text-2xl",children:"Not Found!"})})]})}},7606:function(e,r,t){t.d(r,{$K:function(){return l},dQ:function(){return d},xD:function(){return h},ve:function(){return x},NS:function(){return v},T6:function(){return y},wP:function(){return Z},oJ:function(){return k},IU:function(){return N},Gm:function(){return C}});var n=t(885),u=t(2982),s=t(8683),a=t(5861),o=t(7757),c=t.n(o),i=t(422);function l(e){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.w.firestore().collection("users").where("username","==",r.toLowerCase()).get();case 2:return t=e.sent,e.abrupt("return",t.docs.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.w.firestore().collection("users").where("username","==",r.toLowerCase()).get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return(0,s.Z)((0,s.Z)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.w.firestore().collection("users").where("userId","==",r).get();case 2:return t=e.sent,n=t.docs.map((function(e){return(0,s.Z)((0,s.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(c().mark((function e(r,t){var n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.w.firestore().collection("users"),n=t.length>0?n.where("userId","not-in",[].concat((0,u.Z)(t),[r])):n.where("userId","!=",r),e.next=4,n.limit(10).get();case 4:return a=e.sent,o=a.docs.map((function(e){return(0,s.Z)((0,s.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r,t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(c().mark((function e(r,t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.w.firestore().collection("users").doc(r).update({following:n?i.G.arrayRemove(t):i.G.arrayUnion(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r,t){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)(c().mark((function e(r,t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.w.firestore().collection("users").doc(r).update({followers:n?i.G.arrayRemove(t):i.G.arrayUnion(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,r){return j.apply(this,arguments)}function j(){return j=(0,a.Z)(c().mark((function e(r,t){var n,u,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.w.firestore().collection("photos").where("userId","in",t).get();case 2:return n=e.sent,u=n.docs.map((function(e){return(0,s.Z)((0,s.Z)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(u.map(function(){var e=(0,a.Z)(c().mark((function e(t){var n,u,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,t.likes.includes(r)&&(n=!0),e.next=4,h(t.userId);case 4:return u=e.sent,a=u[0].username,e.abrupt("return",(0,s.Z)((0,s.Z)({username:a},t),{},{userLikedPhoto:n}));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.w.firestore().collection("photos").where("userId","==",r).get();case 2:return t=e.sent,n=t.docs.map((function(e){return(0,s.Z)((0,s.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,r){return U.apply(this,arguments)}function U(){return(U=(0,a.Z)(c().mark((function e(r,t){var u,a,o,l,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.w.firestore().collection("users").where("username","==",r).where("following","array-contains",t).get();case 2:return u=e.sent,a=u.docs.map((function(e){return(0,s.Z)((0,s.Z)({},e.data()),{},{docId:e.id})})),o=(0,n.Z)(a,1),l=o[0],f=void 0===l?{}:l,e.abrupt("return",f.userId);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,r,t,n,u){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(c().mark((function e(r,t,n,u,s){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,u,r);case 2:return e.next=4,y(n,s,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2982:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(907);var u=t(181);function s(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,u.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=934.f17a6472.chunk.js.map